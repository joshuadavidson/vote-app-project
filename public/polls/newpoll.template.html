<app-header></app-header>

<div class="row">

  <div class="col-md-4 col-md-offset-4 text-center">
    <h1>New Poll</h1>

    <form novalidate ng-submit="$ctrl.onSubmit()" class="css-form text-left">

      <div class="form-group">
        <label for="title" class="control-label">Title</label>

        <input type="text" ng-model="$ctrl.poll.title" class="form-control input-lg" placeholder="Poll title" autofocus="autofocus" required />

      </div>

      <div class="form-group" ng-repeat="question in $ctrl.poll.questions track by $index">

          <label for="question" ng-show="$first" class="control-label">Choices</label>

          <div class="input-group">
            <input type="text" ng-model="question.name" class="form-control" required>
            <div ng-click="$ctrl.removeChoice($index)" class="input-group-addon btn btn-danger">Remove</div>
          </div>

      </div>

      <div class="form-group text-center">
        <button type="button" class="btn btn-success" ng-hide="$ctrl.poll.questions.length >= 20" ng-click="$ctrl.addChoice()">Add Choice</button>
      </div>

      <div class="form-group text-center">
        <button type="submit" class="btn btn-primary">Publish Poll</button>
      </div>

      <p class="bg-danger text-center" ng-show="$ctrl.error">
        {{$ctrl.error.data.message}}<br>
      </p>
    </form>

  </div>

</div>

<app-footer></app-footer>
